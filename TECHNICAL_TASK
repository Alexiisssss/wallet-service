# üí∞ Wallet Service

### üïí –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
**4 —Å—É—Ç–æ–∫ —Å –º–æ–º–µ–Ω—Ç–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è.**  
–ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ ‚Äî –ø—Ä–æ—Å—å–±–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å –∑–∞—Ä–∞–Ω–µ–µ.

---

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

Spring Boot –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∏—Ö –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏, —Ä–µ–∞–ª–∏–∑—É—é—â–µ–µ REST API —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é (JWT), –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π, –≤–∫–ª—é—á–∞—è –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏—Ä–æ—Å—Ç–∞ –±–∞–ª–∞–Ω—Å–∞.

---

## üß∞ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π —Å—Ç–µ–∫

- **Java 11+**
- **Spring Boot**
- **PostgreSQL** ‚Äì –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Redis / Elastic (–ø–æ –≤—ã–±–æ—Ä—É)** ‚Äì –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á
- **Maven** ‚Äì –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–±–æ—Ä–∫–∏
- **Spring Security + JWT** ‚Äì –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- **Swagger/OpenAPI** ‚Äì –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
- **Testcontainers + MockMvc** ‚Äì –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **SLF4J / Logback** ‚Äì –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üèó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### –¢–∞–±–ª–∏—Ü–∞ `USER`
| –ü–æ–ª–µ        | –¢–∏–ø            | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏              |
|-------------|----------------|--------------------------|
| `ID`        | BIGINT (PK)    | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID            |
| `NAME`      | VARCHAR(500)   | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è         |
| `DATE_OF_BIRTH` | DATE      | –§–æ—Ä–º–∞—Ç: `dd.MM.yyyy`     |
| `PASSWORD`  | VARCHAR(500)   | 8-500 —Å–∏–º–≤–æ–ª–æ–≤           |

### –¢–∞–±–ª–∏—Ü–∞ `ACCOUNT`
| –ü–æ–ª–µ        | –¢–∏–ø         | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏               |
|-------------|-------------|---------------------------|
| `ID`        | BIGINT (PK) |                           |
| `USER_ID`   | BIGINT (FK) | –°–≤—è–∑—å —Å `USER.ID`         |
| `BALANCE`   | DECIMAL     | –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ `BigDecimal`   |

### –¢–∞–±–ª–∏—Ü–∞ `EMAIL_DATA`
| –ü–æ–ª–µ        | –¢–∏–ø           | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏               |
|-------------|---------------|---------------------------|
| `ID`        | BIGINT (PK)   |                           |
| `USER_ID`   | BIGINT (FK)   | –°–≤—è–∑—å —Å `USER.ID`         |
| `EMAIL`     | VARCHAR(200)  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π email          |

### –¢–∞–±–ª–∏—Ü–∞ `PHONE_DATA`
| –ü–æ–ª–µ        | –¢–∏–ø           | –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏               |
|-------------|---------------|---------------------------|
| `ID`        | BIGINT (PK)   |                           |
| `USER_ID`   | BIGINT (FK)   | –°–≤—è–∑—å —Å `USER.ID`         |
| `PHONE`     | VARCHAR(13)   | –§–æ—Ä–º–∞—Ç: `79207865432`     |

---

## üîß –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: 3 —Å–ª–æ—è ‚Äî API, Service, DAO
- –ù–µ—Ç –∞–¥–º–∏–Ω–æ–≤: —Ç–æ–ª—å–∫–æ –æ–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ (–±–µ–∑ API)
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
  - –æ–±—è–∑–∞–Ω –∏–º–µ—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω `email` –∏ `phone`
  - –∏–º–µ–µ—Ç **—Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω** `account`
  - –Ω–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –∑–∞–¥–∞—ë—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- –ë–∞–ª–∞–Ω—Å –Ω–µ –º–æ–∂–µ—Ç —É—Ö–æ–¥–∏—Ç—å –≤ –º–∏–Ω—É—Å
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–æ –¥–ª–∏–Ω–µ, —Ñ–æ—Ä–º–∞—Ç—É –∏ —Ç.–¥.)

---

## üöÄ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### ‚úÖ CRUD:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
  - –î–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å/–º–µ–Ω—è—Ç—å **email/phone** (–µ—Å–ª–∏ –Ω–µ –∑–∞–Ω—è—Ç)
  - **–ù–µ –º–æ–∂–µ—Ç** –º–µ–Ω—è—Ç—å –¥—Ä—É–≥–∏–µ –ø–æ–ª—è

### üîç –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (READ):
- –ü–æ–∏—Å–∫ –ø–æ:
  - `dateOfBirth >` –∑–∞–¥–∞–Ω–Ω–æ–π –¥–∞—Ç–µ
  - `phone` (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
  - `name` (LIKE `{value}%`)
  - `email` (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è: `size`, `page` –∏–ª–∏ `offset`

### üîê JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:
- –ü–æ email+password –∏–ª–∏ phone+password
- Claim: `USER_ID`

### üí∏ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏—Ä–∞—â–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞:
- –†–∞–∑ –≤ **30 —Å–µ–∫—É–Ω–¥**: +10% –∫ –±–∞–ª–∞–Ω—Å—É
- –ù–µ –±–æ–ª–µ–µ **207%** –æ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –¥–µ–ø–æ–∑–∏—Ç–∞

### üîÅ –ü–µ—Ä–µ–≤–æ–¥ –¥–µ–Ω–µ–≥ –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:
- –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥—Ä—É–≥–æ–º—É
- –ó–∞—â–∏—Ç–∞ –æ—Ç –º–∏–Ω—É—Å–∞, –ø–æ—Ç–æ–∫–æ-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ü–æ–ª—è:
  - `toUserId` ‚Äì –ø–æ–ª—É—á–∞—Ç–µ–ª—å
  - `amount` ‚Äì —Å—É–º–º–∞

---

## ‚ú® –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏—á–∏

- Swagger UI
- –£–º–Ω–æ–µ –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–∞—É–¥–∏—Ç, –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ API –∏ DAO

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã: —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–µ–Ω–µ–≥
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —á–µ—Ä–µ–∑:
  - **Testcontainers**
  - **MockMvc**

---

## üìÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
   - JDK 11+
   - Maven
   - Docker (–¥–ª—è Redis/Postgres)

2. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```bash
   git clone https://github.com/–≤–∞—à-–ª–æ–≥–∏–Ω/wallet-service.git
   cd wallet-service
   ```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ Redis (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   ```bash
   docker-compose up -d
   ```

4. –°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   ```bash
   mvn clean install
   mvn spring-boot:run
   ```

5. Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
   ```
   http://localhost:8080/swagger-ui.html
   ```

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –≤ **–ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub** –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É.  
Frontend –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è. –£–¥–∞—á–∏! üöÄ
